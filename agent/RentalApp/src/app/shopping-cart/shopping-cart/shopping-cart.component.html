<div *ngIf="!loading">
	<div *ngIf="isCartEmpty">
		<h2>Your cart is empty!</h2>
		<span class="text-muted">Come back when you've chosen a car that you would like to rent.</span>
	</div>
	<div>
		<div *ngIf="!isCartEmpty" class="d-flex align-items-end">
			<h2 class="mr-auto mb-0">Your Shopping Cart</h2>
			<div>
				<button (click)="checkout()" class="btn btn-sm btn-primary mr-2" [disabled]="isCartEmpty"><span
						*ngIf="submitted" class="spinner-border spinner-border-sm mr-1"></span>Checkout</button>
				<button (click)="emptyShoppingCart()" class="btn btn-sm btn-outline-primary" [disabled]="isCartEmpty">Empty
					Cart</button>
			</div>
		</div>
		<hr>
	</div>
</div>
<div class="d-flex justify-content-center" *ngIf="loading">
	<span class="spinner-border spinner-border-lg align-self-center text-center mr-1"></span>
</div>
<div class="row mt-3">
	<div *ngFor="let item of shoppingCartItems" class="col-md-4">
		<div class="card">
			<div class="embed-responsive embed-responsive-16by9">
				<img src="../../../assets/img-placeholder.jpg"
					class="card-img-top embed-responsive-item img-fluid img-thumbnail" alt="">
			</div>
			<ul class="list-group list-group-flush">
				<li class="list-group-item">
					<div class="mx-3">
						<input class="form-check-input" type="checkbox" id="isBundleInput" [checked]="item.isBundle" (change)="markItemAsBundle(item.id)">
						<label class="form-check-label" for="isBundleInput">Bundle with similar items?</label>
					</div>
				</li>
			</ul>
			<div class="card-footer">
				<button (click)="removeFromCart(item.id)" class="btn btn-sm btn-outline-primary mr-2"
					[disabled]="item.isRemoving">
					<span *ngIf="item.isRemoving" class="spinner-border spinner-border-sm mr-1"></span>
					<span *ngIf="!item.isRemoving">Remove</span>
				</button>
				<a routerLink="/cars/detail/{{item.carId}}" class="btn btn-sm btn-primary">Details</a>
			</div>
		</div>
	</div>
</div>