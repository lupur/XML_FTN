<div class="card col-md-8 offset-md-2 mt-3">
	<div class="card-body">
		<h1 class="card-title">Car Details</h1>
		<a class="card-link" [routerLink]="[ '/cars' ]" routerLinkActive="active">Browse Cars</a>
		<div class="mt-3" *ngIf="car">
			<table class="table table-striped">
				<tbody>
					<tr>
						<td>Brand</td>
						<td>{{car.carBrand}}</td>
					</tr>
					<tr>
						<td>Model</td>
						<td>{{car.carModel}}</td>
					</tr>
					<tr>
						<td>Category</td>
						<td>{{car.carCategory}}</td>
					</tr>
					<tr>
						<td>Production Year</td>
						<td>{{car.productionYear}}</td>
					</tr>
					<tr>
						<td>Engine</td>
						<td>{{car.fuelType}}</td>
					</tr>
					<tr>
						<td>Transmission</td>
						<td>{{car.transmissionType}}</td>
					</tr>
					<tr>
						<td>Mileage</td>
						<td>{{car.mileage}}</td>
					</tr>
					<tr>
						<td>Mileage Constraint</td>
						<td>{{car.mileageConstraint}}</td>
					</tr>
					<tr>
						<td>Color</td>
						<td>{{car.color}}</td>
					</tr>
					<tr>
						<td>Number of Seats</td>
						<td>{{car.numberOfSeats}}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>

<div *ngIf="car">
	<div class="card col-md-8 offset-md-2 mt-3">
		<div class="d-flex flex-row bd-highlight">
			<div class="p-2 mr-auto bd-highlight">
				<h2>Reviews</h2>
			</div>
		</div>
		<div class="d-flex flex-row bd-highlight mb-2">
			<div class="p-2 mr-auto bd-highlight">
				<h6 class="card-subtitle text-muted">Average Rating: {{car.averageRating | number: '.1-1'}}</h6>
			</div>
		</div>
		<div class="card-body">
			<app-review></app-review>
		</div>
		<ul class="list-group list-group-flush">
			<li class="list-group-item" *ngFor="let review of car.reviews">
				<div class="d-flex bd-highlight mb-2">
					<div class="p-2 mr-auto bd-highlight"><strong>{{review.authorDisplayName}}</strong></div>
					<div class="p-2 bd-highlight"><span class="text-muted">{{review.createdOn | date: 'medium'}}</span>
					</div>
				</div>
				<div class="d-flex bd-highlight mb-2">
					<div class="p-2 mr-auto bd-highlight">{{review.comment}}</div>
				</div>
			</li>
		</ul>
	</div>
</div>